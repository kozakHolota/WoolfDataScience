from scipy.optimize import linprog

# Цільова функція (мінімізуємо -прибуток, тобто максимізуємо прибуток)
# f(x) = 0.10x1 + 0.15x2 + 0.12x3 => мінімізація -f(x)
c = [-0.10, -0.15, -0.12]

# Матриця обмежень (A_ub * x <= b_ub)
# 1) x1 + x2 + x3 <= 10000  — бюджет
# 2) 0.03x2 - 0.02x1 <= 0  — обмеження по ризику
A = [
    [1, 1, 1],
    [-0.02, 0.03, 0]
]

b = [10000, 0]  # праві частини нерівностей

# Межі: всі змінні не можуть бути від’ємні
bounds = [(0, None), (0, None), (0, None)]

# Використовуємо метод 'highs'
result = linprog(c, A_ub=A, b_ub=b, bounds=bounds, method='highs')

# Виводимо результати
if result.success:
    x1, x2, x3 = result.x
    print("Оптимальні інвестиції:")
    print(f" - Акція A (x1): {x1:.2f} грн")
    print(f" - Акція B (x2): {x2:.2f} грн")
    print(f" - Акція C (x3): {x3:.2f} грн")
    print(f"Максимальний прибуток: {-result.fun:.2f} грн")
else:
    print("Оптимізація не вдалася:", result.message)